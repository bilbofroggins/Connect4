# curl --location 'https://orchestrator.pgatour.com/graphql' \
# --header 'authority: orchestrator.pgatour.com' \
# --header 'accept: */*' \
# --header 'accept-language: en-US,en;q=0.8' \
# --header 'content-type: application/json' \
# --header 'origin: https://www.pgatour.com' \
# --header 'referer: https://www.pgatour.com/' \
# --header 'sec-ch-ua: "Chromium";v="110", "Not A(Brand";v="24", "Brave";v="110"' \
# --header 'sec-ch-ua-mobile: ?0' \
# --header 'sec-ch-ua-platform: "macOS"' \
# --header 'sec-fetch-dest: empty' \
# --header 'sec-fetch-mode: cors' \
# --header 'sec-fetch-site: same-site' \
# --header 'sec-gpc: 1' \
# --header 'user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36' \
# --header 'x-amz-user-agent: aws-amplify/3.0.7' \
# --header 'x-api-key: da2-gsrx5bibzbb4njvhl7t37wqyl4' \
# --header 'x-pgat-platform: web' \
# --data '{"query":"{\n    playerProfileCareer(playerId: \"56278\") {\n      cutsMade\n    }\n}","variables":{}}'


import requests
import json

url = 'https://orchestrator.pgatour.com/graphql'
headers = {
    "authority": "orchestrator.pgatour.com",
    "accept": "*/*",
    "accept-language": "en-US,en;q=0.8",
    "content-type": "application/json",
    "origin": "https://www.pgatour.com",
    "referer": "https://www.pgatour.com/",
    "sec-ch-ua": '"Chromium";v="110", "Not A(Brand";v="24", "Brave";v="110"',
    "sec-ch-ua-mobile": "?0",
    "sec-ch-ua-platform": '"macOS"',
    "sec-fetch-dest": "empty",
    "sec-fetch-mode": "cors",
    "sec-fetch-site": "same-site",
    "sec-gpc": "1",
    "user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36",
    "x-amz-user-agent": "aws-amplify/3.0.7",
    "x-api-key": "da2-gsrx5bibzbb4njvhl7t37wqyl4",
    "x-pgat-platform": "web"
}

players = [
    "46970",
    "46046",
    "39977",
    "33141",
    "48117",
    "28237",
    "28252",
    "47504",
    "29725",
    "30926",
    "55182",
    "49947",
    "37455",
    "57366",
    "40115",
    "50525",
    "51634",
    "28089",
    "22405",
    "51766",
    "35506",
    "35450",
    "35532",
    "55789",
    "27644",
    "25493",
    "32102",
    "34098",
    "33653",
    "34256",
    "39971",
    "46717",
    "34363",
    "47347",
    "48081",
    "45609",
    "55708",
    "34099",
    "30927",
    "54591",
    "34046",
    "48119",
    "32139",
    "58168",
    "47993",
    "49960",
    "47591",
    "39324",
    "52374",
    "39546",
    "34076",
    "36699",
    "36871",
    "46340",
    "33399",
    "34409",
    "46442",
    "32791",
    "51349",
    "37275",
    "49771",
    "46441",
    "33448",
    "30911",
    "33408",
    "23108",
    "50493",
    "32839",
    "54421",
    "50188",
    "33948",
    "45242",
    "48699",
    "56762",
    "31646",
    "47995",
    "34255",
    "36799",
    "49964",
    "39997",
    "40162",
    "33413",
    "46601",
    "54628",
    "36326",
    "22371",
    "46414",
    "35461",
    "28775",
    "47988",
    "45157",
    "36801",
    "48887",
    "47483",
    "40098",
    "51890",
    "33204",
    "45522",
    "30692",
    "29420",
    "32757",
    "57975",
    "34466",
    "47079",
    "51997",
    "54783",
    "39975",
    "25818",
    "40006",
    "55893",
    "27349",
    "31323",
    "33597",
    "40250",
    "29970",
    "27129",
    "33122",
    "39954",
    "30163",
    "22056",
    "40058",
    "19803",
    "34374",
    "39067",
    "27963",
    "27214",
    "32640",
    "35901",
    "51414",
    "29221",
    "49298",
    "34610",
    "52513",
    "27936",
    "34563",
    "46435",
    "24502",
    "39058",
    "24140",
    "47128",
    "32333",
    "57362",
    "35449",
    "26596",
    "47983",
    "31577",
    "27064",
    "29289",
    "37338",
    "50095",
    "29535",
    "48867",
    "24024",
    "51950",
    "36724",
    "35617",
    "12716",
    "32150",
    "27554",
    "25632",
    "52372",
    "28420",
    "53165",
    "51070",
    "49766",
    "24846",
    "32816",
    "31557",
    "32366",
    "52411",
    "20229",
    "55454",
    "58967",
    "27095",
    "25198",
    "31560",
    "25900",
    "29478",
    "52375",
    "48084",
    "19846",
    "24924",
    "32448",
    "31202",
    "23621",
    "23320",
    "24925",
    "39335",
    "25686",
    "28679",
    "26476",
    "34174",
    "35879",
    "51491",
    "27895",
    "22046",
    "27974",
    "34431",
    "49303",
    "33410",
    "34213",
    "23983",
    "37273",
    "27797",
    "20593",
    "49453",
    "29479",
    "29908",
    "35310",
    "54813",
    "27770",
    "23541",
    "20766",
    "08793",
    "32662",
    "25240",
    "30110",
    "21407",
    "27141",
    "23788",
    "08075",
    "24490",
    "27649",
    "51894",
    "26679",
    "27556",
    "26420",
    "28259"
]

res = []
for player in players:
    body = f"""
    {{
        playerProfileCareer(playerId: "{player}") {{
          cutsMade
        }}
    }}
    """

    resp = requests.post(url, headers=headers, json={"query": body})
    parsed = json.loads(resp.text)
    cutsmade = parsed["data"]["playerProfileCareer"]["cutsMade"]
    num, denom = cutsmade.split('/')

    res.append(float(num)/float(denom))

print(res)